# 📊 VocaMaster AI 앱 종합 분석 보고서

> **분석일:** 2026-02-24  
> **앱명:** Smart AI Worksheet Generator (VocaMaster AI)  
> **기술 스택:** React 19, Vite, Tailwind CSS, Google Gemini AI, TypeScript

---

## 📋 목차
1. [앱 개요 및 아키텍처](#1-앱-개요-및-아키텍처)
2. [주요 기능 분석](#2-주요-기능-분석)
3. [데이터 구조 분석](#3-데이터-구조-분석)
4. [사용자 시뮬레이션 (교사 시나리오)](#4-사용자-시뮬레이션-교사-시나리오)
5. [발견된 문제점](#5-발견된-문제점)
6. [교사 편의성 개선 제안](#6-교사-편의성-개선-제안)

---

## 1. 앱 개요 및 아키텍처

### 🎯 목적
영어 교사들이 **자연어 대화형 인터페이스**로 학년별 영단어 문제지(워크시트)를 자동 생성하는 AI 기반 교육 도구

### 🏗️ 아키텍처

```
┌─────────────────────────────────────────────┐
│  사용자 인터페이스 (App.tsx - React SPA)      │
│  ├── 자연어 입력 → Gemini AI 분석            │
│  ├── 문제지 생성 및 표시                      │
│  └── 마스터 테이블 관리 모달                   │
├─────────────────────────────────────────────┤
│  서비스 레이어 (geminiService.ts)             │
│  ├── analyzeUserPrompt() - 요청 분석 (AI)    │
│  └── generateWorksheet() - 문제 조립 (로컬)  │
├─────────────────────────────────────────────┤
│  데이터 레이어 (constants.ts + JSON 파일들)   │
│  ├── vocab-word-index.json (9,012 단어)      │
│  ├── vocab-{level}.json (레벨별 상세 데이터)  │
│  └── vocab-table.json (테이블 표시용 경량)     │
├─────────────────────────────────────────────┤
│  데이터 파이프라인 (parse-vocab-excel.mjs)    │
│  └── Excel → JSON 변환 (빌드 시 1회 실행)     │
└─────────────────────────────────────────────┘
```

### 📂 파일 구조
```
nlp-vocab-hwang/
├── App.tsx                    # 메인 App (787줄 - 모놀리식)
├── index.tsx                  # React 엔트리포인트
├── index.html                 # HTML 진입점
├── types.ts                   # TypeScript 타입 정의
├── constants.ts               # 상수 + 데이터 로딩 함수
├── services/
│   └── geminiService.ts       # Gemini AI 서비스 (분석 + 문제 생성)
├── scripts/
│   └── parse-vocab-excel.mjs  # Excel → JSON 데이터 파싱 스크립트
├── public/data/               # 파싱된 JSON 데이터
│   ├── vocab-word-index.json  # 단어 인덱스 (9,012)
│   ├── vocab-index.json       # 레벨별 파일 매핑
│   ├── vocab-elementary-grade-3-4.json (1,384개)
│   ├── vocab-elementary-grade-5-6.json (1,831개)
│   ├── vocab-middle-school.json (5,797개)
│   ├── vocab-table.json       # 테이블 표시용 (경량)
│   └── vocab-all.json         # 전체 데이터
└── Copy of master_vocabulary_table.xlsx  # 원본 엑셀
```

---

## 2. 주요 기능 분석

### 기능 1: 🤖 AI 기반 자연어 문제 생성 요청
- **동작:** 교사가 자연어로 문제집 요청 → Gemini AI가 의도를 파싱
- **추출 항목:** 학년(grade), 주제(topic), 특정 단어(words), 문제 수(count)
- **예시 입력:** "중학교 수준으로 Fragile 단어를 넣어서 5문제 만들어줘"

### 기능 2: 📊 대화형 요청 보완
- AI 분석 후 누락 정보가 있으면 추가 입력 UI 표시
- 학년 선택 버튼 (Elementary 1-2 ~ TOEFL/IELTS)
- 문항 수 선택 버튼 (3, 5, 10, 15문제)
- 자연어 추가 입력 텍스트박스

### 기능 3: 📝 문제지 자동 생성 및 표시
- **핵심:** LLM을 사용하지 않고 마스터 테이블의 사전 생성된 문제를 조합
- 객관식(A/B/C/D) 형식 문제
- 정답 확인/숨기기 토글
- 해설 표시

### 기능 4: 🖨️ 인쇄 / PDF 저장
- `window.print()` 기반
- CSS `@media print` 규칙으로 UI 요소 숨김

### 기능 5: 📚 마스터 테이블 보기/편집
- 9,012개 단어 데이터 열람
- 검색 (단어, 뜻, 유형, 학년)
- 편집 모드: 단어 추가/삭제/수정
- 페이지네이션 (50개/페이지)
- localStorage에 저장

### 기능 6: 🔍 단어 레벨 유효성 검증
- 요청한 단어가 마스터 데이터에 존재하는지 확인
- 요청 레벨과 실제 단어 레벨 불일치 시 안내

### 문제 유형 (11종)
| # | 문제 유형 |
|---|----------|
| 1 | 음소(Phonics) |
| 2 | 그림/사진 |
| 3 | 단어 듣고 한글 뜻 고르기 |
| 4 | 철자 맞추기 |
| 5 | 문맥 속 어휘의 뜻 - 한글 |
| 6 | 문맥 속 어휘의 뜻 - 영어 |
| 7 | 객관식 문장완성하기 |
| 8 | 유의어찾기 |
| 9 | 반의어찾기 |
| 10 | 문맥 속 의미 추론 |
| 11 | 콜로케이션(Collocation) |

---

## 3. 데이터 구조 분석

### 단어 데이터 (VocabItem)
```typescript
{
  word: string;                          // "fragile"
  partsOfSpeech: string;                 // "adjective"
  meaning: string;                       // "깨지기 쉬운"
  englishDefinition: string;             // "easily broken"
  example: string;                       // "Handle with care, it's fragile."
  synonymsAntonyms: string;              // "delicate / sturdy"
  level: string;                         // "Middle School"
  cefrLevel: string;                     // "B1"
  koreanCurriculum: string;              // "중3"
  questionTypes: string[];               // ["문맥 속 어휘의 뜻 - 영어", ...]
  preGeneratedQuestions?: Record<string, string>; // 유형별 사전 생성 문제
}
```

### 데이터 규모
| 레벨 | 단어 수 |
|------|--------|
| Elementary Grade 3-4 | 1,384 |
| Elementary Grade 5-6 | 1,831 |
| Middle School | 5,797 |
| **합계** | **9,012** |

> ⚠️ **주의:** High School과 TOEFL/IELTS 레벨 데이터가 없음

---

## 4. 사용자 시뮬레이션 (교사 시나리오)

### 📌 시나리오: 중학교 영어 교사 "김 선생님"의 단어 시험 출제

---

#### 🔹 Phase 1: 앱 접속 및 초기 화면

**상황:** 김 선생님이 내일 중학교 2학년 영단어 시험을 위해 문제지를 만들고 싶다.

1. ✅ 브라우저에서 `localhost:3000` 접속
2. ✅ 상단 네비게이션 바에 "VocaMaster AI" 로고, "마스터 테이블 보기" 버튼, 리셋 버튼 표시
3. ✅ 메인 영역에 **"어떤 문제집을 제작할까요?"** 제목과 큰 텍스트 입력창 표시
4. ✅ 입력 플레이스홀더: "예: 중학교 수준으로 Fragile 단어를 넣어서 5문제 만들어줘."

**✅ 결과:** 첫인상 깔끔, 사용법이 직관적

---

#### 🔹 Phase 2: 문제 생성 요청 입력

**입력:** "중학교 수준으로 happy, sad 단어를 넣어서 5문제 만들어줘"

5. ✅ 텍스트 입력 후 **"요청 분석 및 시작"** 버튼 클릭
6. ⏳ Gemini AI가 자연어를 분석 중... (로딩 스피너)
7. ✅ AI 분석 결과 표시:
   - grade: "Middle School"
   - words: "happy, sad"  
   - count: 5
   - isComplete: true
8. ✅ 마스터 데이터에서 단어 존재 여부 검증
9. ✅ **"준비 완료: Middle School, 5문항, 'happy, sad' 주제"** 표시
10. ✅ **"문제 제작 시작하기"** 대형 버튼 활성화

**⚠️ 문제점 발견:**
- 네트워크 없이는 **AI 분석 단계에서 완전히 멈춤** (API 키 필요)
- 분석이 실패하면 사용자에게 대안이 없음

---

#### 🔹 Phase 3: 정보 부족 시 보완 (대화형)

**입력:** "happy 단어로 문제 만들어줘" (학년/문제 수 누락)

11. ✅ AI 분석 후 "정보가 부족합니다" 메시지 표시
12. ✅ 학년 선택 버튼 (6개 레벨) 표시
13. ✅ 문항 수 선택 버튼 (3, 5, 10, 15) 표시
14. ✅ 추가 요청 텍스트 입력창 표시
15. ✅ 교사가 "Middle School" 클릭 → "5문제" 클릭
16. ✅ 모든 정보 완료 → 제작 버튼 활성화

**✅ 결과:** 대화형 보완 UX 잘 동작

---

#### 🔹 Phase 4: 문제지 생성 결과

17. ✅ **"문제 제작 시작하기"** 클릭
18. ⏳ 문제 생성 중... (마스터 테이블에서 조합 - AI 미사용, 빠름)
19. ✅ 문제지 표시:
    - 제목: "Middle School - happy, sad 문제지"
    - 학년 배지 + 문항 수 배지
    - 각 문제: 번호, 질문, 4지선다 선택지
20. ✅ **"정답 확인"** 버튼 → 정답 + 해설 토글
21. ✅ **"인쇄 / PDF 저장"** 버튼 → 인쇄 모드 전환

**⚠️ 문제점 발견:**
- 문제 유형을 교사가 **선택할 수 없음** (랜덤 배정)
- 같은 요청을 반복하면 **셔플로 매번 다른 결과** (일관성 부족)
- 문제지에 **교사명, 학교명, 날짜, 시간제한** 등 커스텀 헤더 없음
- 한 번에 **하나의 문제지만** 생성 가능 (A/B형 출제 불가)

---

#### 🔹 Phase 5: 마스터 테이블 확인

22. ✅ 네비바 **"마스터 테이블 보기"** 클릭
23. ✅ 전체화면 모달 표시 (9,012개 데이터)
24. ✅ 검색창에 "happy" 입력 → 관련 단어 필터링
25. ✅ 각 단어의 뜻, 레벨, 문제 유형, 예문 확인
26. ✅ 페이지네이션 (50개/페이지, 이전/다음)
27. ✅ **"테이블 수정하기"** 클릭 → 편집 모드 전환
28. ✅ 행 추가, 삭제, 셀 편집 가능
29. ✅ **"저장 및 동기화"** → localStorage에 저장

**⚠️ 문제점 발견:**
- localStorage 저장의 **용량 한계** (~5MB, 전체 데이터 4.1MB)
- 다른 컴퓨터/브라우저에 **데이터가 공유되지 않음**
- 편집한 데이터가 **문제 생성에 반영되지 않음** (preGeneratedQuestions 없는 새 행)
- **엑셀 임포트/익스포트** 기능 없음

---

#### 🔹 Phase 6: 학년 레벨 불일치 시나리오

**입력:** "초등학교 수준으로 fragile 단어로 3문제 만들어줘"

30. ✅ AI 분석 → grade: "Elementary Grade 3-4", words: "fragile"
31. ✅ 단어 인덱스에서 fragile 검색 → Middle School 레벨에만 존재
32. ✅ **레벨 불일치 에러 메시지:** "'fragile'은(는) 중학교 레벨의 단어입니다"
33. ✅ **"새로 입력하기"** 버튼으로 리셋

**✅ 결과:** 유효성 검증 잘 동작, 에러 메시지가 한국어로 친절

---

## 5. 발견된 문제점

### 🔴 Critical (치명적)

| # | 문제점 | 위치 | 영향 |
|---|--------|------|------|
| C1 | **API 키 없으면 앱 전체 사용 불가** | geminiService.ts:7 | 오프라인/네트워크 불안정 환경에서 사용 불가 |
| C2 | **High School / TOEFL 레벨 데이터 없음** | vocab-index.json | 고등학교 교사는 사용 불가 |
| C3 | **App.tsx 787줄 모놀리식 구조** | App.tsx | 유지보수 어려움, 기능 확장 난이도 높음 |
| C4 | **마스터 테이블 편집이 문제 생성에 미반영** | App.tsx:196 | 교사가 추가한 단어로 문제를 만들 수 없음 |

### 🟡 Major (주요)

| # | 문제점 | 설명 |
|---|--------|------|
| M1 | **문제 유형 선택 불가** | 11개 유형 중 랜덤 배정, 교사 제어권 없음 |
| M2 | **로그인/사용자 인증 없음** | 다수 교사 환경에서 데이터 격리 불가 |
| M3 | **문제 재생성 시 이전 문제 사라짐** | 기록/이력 관리 없음 |
| M4 | **모바일 최적화 미흡** | 마스터 테이블 min-width: 1200px 고정 |
| M5 | **localStorage 5MB 한계** | 전체 데이터 4.1MB → 편집 추가 시 용량 초과 위험 |

### 🟢 Minor (개선 권장)

| # | 문제점 | 설명 |
|---|--------|------|
| m1 | 결과 공유 기능 없음 | 동료 교사와 문제지 공유 불가 |
| m2 | 인쇄 레이아웃 최적화 부족 | 페이지 나눔, 헤더/푸터 없음 |
| m3 | 한/영 언어 혼용 | UI 텍스트가 한국어+영어 섞여있음 |
| m4 | 접근성(A11y) 미비 | aria-label, 키보드 네비게이션 부재 |
| m5 | 인스피레이션 주제(INSPIRATION_TOPICS) 미사용 | constants.ts에 정의만 되어있고 UI에서 미활용 |

---

## 6. 교사 편의성 개선 제안

### 🥇 Tier 1: 즉시 개선 (높은 임팩트, 낮은 난이도)

#### 개선 1: 🎛️ 문제 유형 선택 기능 추가
```
현재: AI가 랜덤으로 문제 유형 배정
개선: 교사가 원하는 문제 유형을 체크박스로 선택
      예: ☑ 철자 맞추기  ☑ 문맥 속 의미 추론  ☐ 유의어찾기
```
**이유:** 교사가 수업 목표에 맞는 문제 유형을 직접 선택해야 함

#### 개선 2: 📝 문제지 커스텀 헤더
```
현재: 자동 생성된 제목만 표시
개선: 아래 필드 추가
  - 학교명: ___________
  - 학년/반: ___________
  - 교사명: ___________
  - 날짜: 2026-02-24 (자동)
  - 시간제한: ___ 분
  - 성명: ___________ (학생 작성 칸)
```
**이유:** 실제 시험지로 사용하려면 헤더 정보가 필수

#### 개선 3: 🔌 오프라인 폴백 (딥러닝 없는 분석)
```
현재: Gemini AI 분석 → API 키 필수
개선: 간단한 키워드 파싱 로직으로 오프라인 폴백
      "중학교" → Middle School
      "5문제" → count: 5
      영어 단어 자동 감지 → words
```
**이유:** 학교 네트워크 환경이 불안정할 수 있으며, AI 없이도 기본 기능은 동작해야 함

#### 개선 4: 💾 문제지 이력 관리
```
현재: 새 문제 생성 시 이전 결과 소멸
개선: 생성된 문제지를 localStorage에 이력으로 저장
      - 최근 20개 문제지 목록
      - 클릭해서 다시 보기
      - 삭제/즐겨찾기 기능
```

---

### 🥈 Tier 2: 중기 개선 (높은 임팩트, 중간 난이도)

#### 개선 5: 📱 모바일 반응형 대응
```
현재: 마스터 테이블 min-width: 1200px
개선: 
  - 카드 레이아웃으로 변환 (모바일)
  - 햄버거 메뉴 네비게이션
  - 터치 친화적 버튼 크기 확대
```

#### 개선 6: 🔄 A/B형 문제지 생성
```
현재: 한 번에 하나의 문제지만 생성
개선: "A형/B형 자동 생성" 옵션
      - 같은 단어, 같은 유형이지만 선택지 순서 변경
      - 또는 다른 문제 조합
```
**이유:** 커닝 방지를 위한 표준 교육 실무

#### 개선 7: 📤 다양한 내보내기 형식
```
현재: 인쇄만 가능
개선:
  - PDF 직접 다운로드 (jsPDF 활용)
  - 한글(HWP) 호환 HTML 다운로드
  - 구글 문서 도구 연동
  - 이미지(PNG) 저장 (단어 카드용)
```

#### 개선 8: 🎯 주제별 단어 세트 추천
```
현재: INSPIRATION_TOPICS 정의되어 있으나 미사용
개선: 
  - "주제별 추천" 패널 추가
  - Positive Personality, Academic Success 등 원클릭 선택
  - 교과서 단원별 단어 그룹 제공
```

---

### 🥉 Tier 3: 장기 개선 (제품 수준 향상)

#### 개선 9: 👥 교사 포털 (다중 사용자)
```
- 로그인/회원가입 (Google OAuth)
- 개인 단어장 관리
- 생성 이력 클라우드 동기화
- 동료 교사와 문제지 공유 링크
```

#### 개선 10: 📊 학생 성적 분석 대시보드
```
- 학생 답안 입력 페이지 생성
- 정답률 자동 계산
- 취약 단어/유형 분석
- 반별 비교 차트
```

#### 개선 11: 🧩 컴포넌트 분리 리팩토링
```
현재: App.tsx 787줄 단일 파일
개선 구조:
  src/
  ├── components/
  │   ├── Navbar.tsx
  │   ├── RequestInput.tsx
  │   ├── AnalysisPanel.tsx
  │   ├── WorksheetResult.tsx
  │   ├── QuestionCard.tsx
  │   ├── MasterTableModal.tsx
  │   └── PrintLayout.tsx
  ├── hooks/
  │   ├── useVocab.ts
  │   ├── useWorksheet.ts
  │   └── useAnalysis.ts
  ├── services/
  │   ├── geminiService.ts
  │   └── offlineParser.ts
  └── utils/
      └── questionParser.ts
```

#### 개선 12: 🗃️ 고등학교 & TOEFL 데이터 확충
```
현재: Elementary 3-4, 5-6, Middle School만 존재
개선: 
  - High School 단어 추가 (교육과정 기반)
  - TOEFL/IELTS 단어 추가
  - 수능 기출 어휘 연동
```

---

## 📊 개선 우선순위 매트릭스

```
높은 임팩트  │  ① 문제유형선택    ⑤ 모바일     ⑨ 교사포털
            │  ② 커스텀헤더     ⑥ A/B형      ⑩ 성적분석
            │  ③ 오프라인폴백   ⑦ 내보내기     ⑪ 리팩토링
            │  ④ 이력관리       ⑧ 주제추천     ⑫ 데이터확충
낮은 임팩트  │
            └──────────────────────────────────────────
             낮은 난이도                    높은 난이도
```

---

## 🎯 최종 요약

### 강점 ✅
- **자연어 AI 인터페이스** → 교사의 기술 장벽 최소화
- **사전 생성된 문제 활용** → LLM 호출 비용 절약, 빠른 생성
- **단어 레벨 검증** → 학년 부적합 문제 방지
- **세련된 UI 디자인** → Tailwind 기반 모던 디자인
- **대규모 데이터베이스** → 9,012개 단어 + 11개 문제 유형

### 약점 ❌
- **API 키 종속성** → 오프라인 사용 불가
- **문제 유형 제어 불가** → 교사 자율성 부족
- **모놀리식 구조** → 기능 확장 어려움
- **데이터 지속성 문제** → localStorage 한계
- **고등학교 데이터 부재** → 수능 준비 교사 미지원

> 💡 **핵심 추천:** 가장 빠르게 교사 만족도를 높일 수 있는 것은 
> **① 문제 유형 선택 기능**과 **② 문제지 커스텀 헤더** 추가입니다.
> 이 두 가지만으로도 실제 시험지로 활용 가능한 수준이 됩니다.
